<div class="topic-index-wrapper">
  <div class="container">
    <div class="row">
      
      <% @topics.find_each do |topic| %>
        <div class="col-md-4 col-md-offset-4">
          <div class="topic-index-single">
            <h3 class="topic-author">
              投稿主：<%= topic.user.name %>
            </h3>
            <div class="image">
              <%= image_tag topic.image.url %>
            </div>
            <p class="topic-text">
              [概要]:<%= topic.description %>
            </p>
            
            <span id="favorite_<%= topic.id %>">
              <%= render partial: 'favorites/favorite', locals: { topic: topic} %>
            </span>
            
            <%= link_to comments_path(topic_id: topic.id) do %>
              <i class="far fa-comment-dots"></i>
            <% end %>
            <h4>[コメント]</h4>
            <% topic.comments.each do |comment| %>
              <p class= "topic-text"><%= comment.content %></p>
            <% end %>
          </div>
        </div>
      <% end %>

    </div>
  </div>
  <%= paginate @topics %>
</div>