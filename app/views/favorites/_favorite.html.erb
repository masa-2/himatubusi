<% unless topic.favorite_users.include?(current_user) %>
  <%= link_to favorites_path(topic_id: topic.id), method: :post, remote: true do %>
    <i class="far fa-heart unlike"></i>
  <% end %>
<% else %>
  <%= link_to favorites_path(topic_id: topic.id), method: :delete, remote: true do %>
    <i class="fas fa-heart like" aria-hidden="true"></i>
  <% end %>
<% end %>
<%= topic.favorite_users.count %>